(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(t,e,a){t.exports=a(37)},30:function(t,e,a){},31:function(t,e,a){},37:function(t,e,a){"use strict";a.r(e);var o=a(0),n=a.n(o),r=a(22),i=a.n(r),c=(a(30),a(2)),s=a(3),l=a(5),d=a(4),u=a(6),m=(a(31),a(15)),p=a(11),h=a(19),f={getRandomID:function(){for(var t="1234567890poiiytreqwasdfghjklmnbvcxxssersgyushquiz",e="",a=0;a<10;a++){var o=Math.floor(Math.random()*t.length);e+=t[o]}return e},getFormattedDate:function(){return(new Date).toLocaleDateString("en-US")},getFormattedTime:function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),o=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+o}};var v=function t(e,a){Object(c.a)(this,t),this.title=e,this.content=a,this.date=f.getFormattedDate(),this.time=f.getFormattedTime(),this.id=f.getRandomID()};var b={store:function(t,e){localStorage[t]=JSON.stringify(e)},load:function(t){var e=localStorage[t]||"null";return JSON.parse(e)}},g={getTodos:function(t){return t?Promise.resolve(y.filter((function(e){return e.title.includes(t.title)}))):Promise.resolve(Object(h.a)(y))},editTodo:function(t,e,a){var o=y.find((function(e){return e.id===t}));return o=Object(m.a)({},o,{title:e,content:a}),y=y.map((function(t){return o.id===t.id?o:t})),b.store("todos",y),Promise.resolve(o)},deleteTodo:function(t){return y=y.filter((function(e){return e.id!==t.id})),b.store("todos",y),Promise.resolve(!0)},getTodoById:function(t){var e=y.find((function(e){return e.id===t}));return Promise.resolve(e)},addTodo:function(t,e){var a=new v(t,e);return y=[].concat(Object(h.a)(y),[a]),b.store("todos",y),Promise.resolve(a)}},y=b.load("todos")||function(){var t=[new v("To finish homework","finish this React app"),new v("To convert this app","To convert this app to Angular app"),new v("Create another app","to create full stack app"),new v("Support mobile","if this app not supports mobile, create some media queries")];return b.store("todos",t),t}();function E(t){return n.a.createElement(p.b,{to:"/todos/".concat(t.todo.id)},n.a.createElement("li",{className:"todo-preview"},n.a.createElement("div",{className:"todo-line"},n.a.createElement("div",{className:"todo-title-preview"},"\u2b55 ",t.todo.title),n.a.createElement(p.b,{to:"/todos/".concat(t.todo.id,"/edit")},n.a.createElement("button",{className:"edit-button"},n.a.createElement("img",{src:"https://res.cloudinary.com/dtwqtpteb/image/upload/v1582406346/zwvointr6yjve95cf4bw.png",width:"23",height:"23",alt:"trash"}))),n.a.createElement("button",{className:"trash-button"},n.a.createElement("img",{src:"https://res.cloudinary.com/dtwqtpteb/image/upload/v1582404089/qqj9fcfqjjtphfiye2u2.png",width:"23",height:"23",alt:"trash",onClick:function(){t.onDelete(t.todo)}})))))}function j(t){return n.a.createElement("ul",{className:"list"},t.todos.map((function(e,a){return n.a.createElement(E,{key:a,todo:e,onDelete:t.onDelete})})))}var O=a(13),k=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).changeInput=function(t){var e=t.target.name,o="number"===t.target.type?+t.target.value:t.target.value;a.props.onSetFilter(Object(O.a)({},e,o))},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement("form",{id:"search-todo"},n.a.createElement("input",{type:"text",name:"title",placeholder:"Search by title",value:this.props.filterBy.title,onChange:this.changeInput}))}}]),e}(o.Component),T=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).state={todos:[],filterBy:{title:""}},a.loadTodos=function(){g.getTodos(a.state.filterBy).then((function(t){a.setState({todos:t})}))},a.onSetFilter=function(t){a.setState((function(e){return{filterBy:Object(m.a)({},e.filterBy,{},t)}}),a.loadTodos)},a.onDelete=function(t){g.deleteTodo(t).then((function(){a.props.history.push("/todos")}))},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.loadTodos()}},{key:"render",value:function(){return n.a.createElement("div",{className:"todo-list-container"},n.a.createElement("h1",{className:"todo-title"},"Todo List"),n.a.createElement("div",{className:"buttons-container"},n.a.createElement(p.b,{to:"/addTodo"},n.a.createElement("button",{className:"add-todo"},"+")),n.a.createElement(k,{filterBy:this.state.filterBy,onSetFilter:this.onSetFilter})),n.a.createElement(j,{todos:this.state.todos,onDelete:this.onDelete}))}}]),e}(o.Component),w=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.props.todo;return n.a.createElement("div",{className:"todo-list-container"},n.a.createElement("button",{onClick:this.props.goBack,className:"app-button"},"Back"),n.a.createElement("div",{className:"todo-title-details "},t.title),n.a.createElement("div",{className:"date-and-time-details-container"},n.a.createElement("div",{className:"todo-date-details"}," ",t.date),n.a.createElement("div",{className:"todo-time-details"},t.time)),n.a.createElement("div",{className:"todo-content-details"},t.content))}}]),e}(o.Component),N=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).state={todo:null},a.goBack=function(){a.props.history.push("/todos")},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.loadTodo()}},{key:"componentDidUpdate",value:function(t){t.match.params.id!==this.props.match.params.id&&this.loadTodo()}},{key:"loadTodo",value:function(){var t=this,e=this.props.match.params.id;g.getTodoById(e).then((function(e){t.setState({todo:e})}))}},{key:"render",value:function(){return this.state.todo?n.a.createElement(w,{todo:this.state.todo,goBack:this.goBack}):n.a.createElement("div",{className:"loading"},"Loading...")}}]),e}(o.Component),B=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).state={title:"",content:"",date:f.getFormattedDate(),time:f.getFormattedTime()},a.onSave=function(){a.props.onSave(a.state.title,a.state.content).catch(),a.setState({title:"",content:""})},a.inputChange=function(t){var e=t.target.name,o=t.target.value;a.setState(Object(O.a)({},e,o))},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.setFormatDataForEdit()}},{key:"componentDidUpdate",value:function(t){t.todo!==this.props.todo&&this.setFormatDataForEdit()}},{key:"setFormatDataForEdit",value:function(){var t=this.props.todo;t&&this.setState({title:t.title,content:t.content})}},{key:"render",value:function(){return n.a.createElement("div",{className:"form-container"},n.a.createElement("input",{type:"text",placeholder:"title",name:"title",onChange:this.inputChange,value:this.state.title}),n.a.createElement("input",{type:"text",placeholder:"content",name:"content",onChange:this.inputChange,value:this.state.content}),n.a.createElement("div",{className:"form-buttons"},n.a.createElement("button",{onClick:this.props.goBack,className:"app-button"},"Back "),n.a.createElement("button",{onClick:this.onSave,className:"app-button space-left"},"Save")))}}]),e}(o.Component),S=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).onAddTodo=function(t,e){return g.addTodo(t,e).then((function(t){a.props.history.push("/todos")}))},a.goBack=function(){a.props.history.push("/todos")},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"todo-list-container"},n.a.createElement(B,{onSave:this.onAddTodo,goBack:this.goBack}))}}]),e}(o.Component),D=function(t){function e(){var t,a;Object(c.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).state={todo:null},a.onEditTodo=function(t,e){return g.editTodo(a.state.todo.id,t,e).then((function(t){a.props.history.push("/todos/"+t.id)}))},a.goBack=function(){a.props.history.push("/todos")},a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.loadTodo()}},{key:"componentDidUpdate",value:function(t){t.match.params.id!==this.props.match.params.id&&this.loadTodo()}},{key:"loadTodo",value:function(){var t=this;g.getTodoById(this.props.match.params.id).then((function(e){t.setState({todo:e})}))}},{key:"render",value:function(){return this.state.todo?n.a.createElement("div",{className:"todo-list-container"},n.a.createElement(B,{todo:this.state.todo,onSave:this.onEditTodo,goBack:this.goBack})):n.a.createElement("div",{className:"loading"},"Loading...")}}]),e}(o.Component),C=a(10),F=a(7),x=Object(F.a)(),A=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"main-container"},n.a.createElement("main",null,n.a.createElement(p.a,{history:x},n.a.createElement(C.c,null,n.a.createElement(C.a,{component:T,path:"/",exact:!0}),n.a.createElement(C.a,{component:T,path:"/todos",exact:!0}),n.a.createElement(C.a,{component:N,path:"/todos/:id",exact:!0}),n.a.createElement(C.a,{component:S,path:"/addTodo",exact:!0}),n.a.createElement(C.a,{component:D,path:"/todos/:id/edit",exact:!0})))))}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.4b42be00.chunk.js.map